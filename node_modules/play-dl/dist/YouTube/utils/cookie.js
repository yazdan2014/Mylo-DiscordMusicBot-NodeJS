"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.uploadCookie = exports.setCookie = exports.getCookies = void 0;
const fs_1 = __importDefault(require("fs"));
let youtubeData;
if (fs_1.default.existsSync('.data/youtube.data')) {
    youtubeData = JSON.parse(fs_1.default.readFileSync('.data/youtube.data').toString());
}
function getCookies() {
    let result = '';
    if (!(youtubeData === null || youtubeData === void 0 ? void 0 : youtubeData.cookie))
        return undefined;
    for (const [key, value] of Object.entries(youtubeData.cookie)) {
        result += `${key}=${value};`;
    }
    return result;
}
exports.getCookies = getCookies;
function setCookie(key, value) {
    if (!(youtubeData === null || youtubeData === void 0 ? void 0 : youtubeData.cookie))
        return false;
    key = key.trim();
    value = value.trim();
    Object.assign(youtubeData.cookie, { [key]: value });
    return true;
}
exports.setCookie = setCookie;
function uploadCookie() {
    if (youtubeData)
        fs_1.default.writeFileSync('.data/youtube.data', JSON.stringify(youtubeData, undefined, 4));
}
exports.uploadCookie = uploadCookie;
//# sourceMappingURL=cookie.js.map